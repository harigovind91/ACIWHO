<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACIWHO GLOBAL | HAI Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;600;900&display=swap');
        body { font-family: 'Outfit', sans-serif; background: #ffffff; scroll-behavior: smooth; overflow-x: hidden; }
        .sector-card { border-radius: 45px; background: #fff; border: 1px solid #eee; transition: 0.4s; position: relative; overflow: hidden; }
        .sector-card:hover { transform: translateY(-10px); box-shadow: 0 30px 50px rgba(0,0,0,0.05); border-color: #3b82f6; }
        .detail-card { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 10000; align-items: center; justify-content: center; padding: 20px; backdrop-filter: blur(10px); }
        .active-popup { display: flex; }
        #sideMenu { transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1); transform: translateX(100%); }
        #sideMenu.open { transform: translateX(0); }
        .glass-panel { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(20px); }
    </style>
</head>
<body class="bg-slate-50">

    <nav class="fixed top-0 w-full z-[500] bg-white/80 backdrop-blur-md border-b border-slate-100">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <span class="bg-blue-600 text-white px-3 py-1 rounded font-black italic">HAI</span>
                <span class="text-xl font-black uppercase tracking-tighter">ACIWHO <span class="text-blue-600">GLOBAL</span></span>
            </div>
            <div class="flex items-center gap-6">
                <div id="userLocation" class="hidden md:block text-[10px] font-black text-slate-400 uppercase tracking-widest bg-slate-100 px-3 py-1 rounded-full italic">Detecting IP...</div>
                <button onclick="toggleMenu()" class="w-10 h-10 bg-black text-white rounded-full flex items-center justify-center hover:bg-blue-600 transition-all">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

    <div id="sideMenu" class="fixed top-0 right-0 h-full w-full md:w-[450px] bg-white z-[1000] shadow-2xl p-8 overflow-y-auto">
        <div class="flex justify-between items-center mb-10">
            <h2 class="text-2xl font-black italic uppercase">HAI <span class="text-blue-600">Explorer</span></h2>
            <button onclick="toggleMenu()" class="text-2xl">&times;</button>
        </div>

        <div class="bg-slate-50 p-6 rounded-[30px] mb-6 border border-slate-100">
            <p class="text-[10px] font-black text-slate-400 uppercase mb-2">System Info & Language</p>
            <div class="flex gap-2 mb-4">
                <select onchange="changeLang(this.value)" class="bg-white border text-xs font-bold p-2 rounded-xl outline-none">
                    <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</option>
                    <option value="en">English (Global)</option>
                    <option value="es">Espa√±ol</option>
                    <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                </select>
                <div id="gpsStatus" class="bg-blue-600 text-white text-[9px] px-3 flex items-center rounded-xl font-bold uppercase tracking-tighter italic">GPS Secured</div>
            </div>
            <p id="ipAddress" class="text-[11px] font-bold text-slate-600">IP: Loading...</p>
        </div>

        <div class="mb-8">
            <h3 class="text-xs font-black uppercase text-blue-600 mb-3">About ACIWHO Foundation</h3>
            <p class="text-sm text-slate-500 font-medium leading-relaxed">ACIWHO WELFARE FOUNDATION ‡§è‡§ï ‡§µ‡•à‡§∂‡•ç‡§µ‡§ø‡§ï ‡§è‡§®‡§ú‡•Ä‡§ì ‡§π‡•à ‡§ú‡•ã 9 ‡§µ‡§ø‡§∂‡§ø‡§∑‡•ç‡§ü ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡•ã‡§Ç (Units) ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§Æ‡§æ‡§®‡§µ‡§§‡§æ ‡§ï‡•Ä ‡§∏‡•á‡§µ‡§æ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•à‡•§ ‡§π‡§Æ‡§æ‡§∞‡§æ ‡§Æ‡§ø‡§∂‡§® ‡§¨‡•ç‡§≤‡•â‡§ï‡§ö‡•á‡§® ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§™‡§æ‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§‡§æ ‡§î‡§∞ ‡§è‡§Ü‡§à ‡§ó‡§µ‡§∞‡•ç‡§®‡•á‡§Ç‡§∏ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡§Æ‡§æ‡§ú ‡§ï‡•á ‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø ‡§§‡§ï ‡§§‡§ï‡§®‡•Ä‡§ï ‡§î‡§∞ ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§™‡§π‡•Å‡§Å‡§ö‡§æ‡§®‡§æ ‡§π‡•à‡•§</p>
        </div>

        <div class="grid grid-cols-1 gap-4">
            <button onclick="alert('Registration Portal Opening Soon!')" class="bg-black text-white p-5 rounded-3xl font-black text-xs uppercase tracking-widest hover:bg-blue-600 transition-all text-left flex justify-between items-center">
                Donor Registration <i class="fas fa-user-plus"></i>
            </button>
            <a href="mailto:aciwhofoundation@gmail.com" class="bg-slate-100 p-5 rounded-3xl font-black text-xs uppercase tracking-widest text-left flex justify-between items-center">
                Help & Support <i class="fas fa-envelope"></i>
            </a>
        </div>

        <div class="mt-10 pt-10 border-t border-slate-100">
            <p class="text-[10px] font-bold text-slate-400 uppercase text-center italic tracking-[0.2em]">SSL Encrypted Secure Connection</p>
        </div>
    </div>

    <section class="pt-40 pb-20 px-6">
        <div class="container mx-auto text-center">
            <h1 class="text-5xl md:text-7xl font-black italic tracking-tighter mb-6 uppercase">ACIWHO <span class="text-blue-600">Mission Units</span></h1>
            <p class="text-slate-500 max-w-2xl mx-auto font-medium">9 ‡§µ‡§ø‡§∂‡§ø‡§∑‡•ç‡§ü ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§Æ‡§æ‡§®‡§µ‡§§‡§æ ‡§ï‡•Ä ‡§∏‡•á‡§µ‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§Æ‡§∞‡•ç‡§™‡§ø‡§§ ‡§µ‡•à‡§∂‡•ç‡§µ‡§ø‡§ï ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï‡•§ <br><b>‡§®‡•ã‡§ü:</b> ‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§®‡§æ‡§ó‡§∞‡§ø‡§ï‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•Ä‡§ß‡§æ ‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•à‡•§</p>
        </div>
    </section>

    <section class="pb-32 px-6">
        <div class="container mx-auto grid md:grid-cols-3 gap-8" id="sector-grid"></div>
    </section>

    <div class="fixed bottom-6 left-6 z-[100] flex gap-2">
        <div class="bg-white/90 backdrop-blur-md px-4 py-2 rounded-full border border-green-200 flex items-center gap-2 shadow-lg">
            <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
            <span class="text-[9px] font-black uppercase tracking-tighter italic">Server 2.0 SSL Active</span>
        </div>
    </div>

    <button onclick="alert('HAI Chatbot: ‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§ï‡•à‡§∏‡•á ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å?')" class="fixed bottom-6 right-6 w-16 h-16 bg-blue-600 text-white rounded-full shadow-2xl flex items-center justify-center text-2xl hover:scale-110 transition-all z-[1000]">
        <i class="fas fa-comment-dots"></i>
    </button>

    <div id="detailPopup" class="detail-card">
        <div class="bg-white rounded-[40px] max-w-2xl w-full p-10 relative overflow-hidden">
            <button onclick="closePopup()" class="absolute top-6 right-6 text-slate-400 hover:text-black text-2xl">&times;</button>
            <div id="popupContent"></div>
        </div>
    </div>

    <script>
        // --- Supabase Config ---
        const SB_URL = "https://d0616364-4643-4c6f-a6dc-57a0bc65d7ed.supabase.co"; 
        const SB_KEY = "sba_0a2432244391098827fa8aeedce7bf2a0791a95c";
        const _supabase = supabase.createClient(SB_URL, SB_KEY);

        const sectors = [
            {id:'01', t:'IT & Robotics', d:'AI-‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ø‡§§ ‡§ó‡§µ‡§∞‡•ç‡§®‡•á‡§Ç‡§∏, ‡§Æ‡§æ‡§®‡§µ ‡§∞‡§π‡§ø‡§§ ‡§∞‡§æ‡§π‡§§ ‡§°‡•ç‡§∞‡•ã‡§®, ‡§î‡§∞ ‡§â‡§®‡•ç‡§®‡§§ ‡§∞‡•ã‡§¨‡•ã‡§ü‡§ø‡§ï‡•ç‡§∏ ‡§≤‡•à‡§¨ ‡§ï‡§æ ‡§®‡§ø‡§∞‡•ç‡§Æ‡§æ‡§£‡•§', img:'https://images.unsplash.com/photo-1485827404703-89b55fcc595e?auto=format&fit=crop&w=800'},
            {id:'02', t:'Digital Skills', d:'‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§Ø‡•Å‡§µ‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§´‡•ç‡§∞‡•Ä ‡§ï‡•ã‡§°‡§ø‡§Ç‡§ó, ‡§∏‡§æ‡§Ø‡§¨‡§∞ ‡§∏‡§ø‡§ï‡•ç‡§Ø‡•ã‡§∞‡§ø‡§ü‡•Ä ‡§î‡§∞ ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§Æ‡§æ‡§∞‡•ç‡§ï‡•á‡§ü‡§ø‡§Ç‡§ó ‡§∏‡•á‡§Ç‡§ü‡§∞‡•§', img:'https://images.unsplash.com/photo-1516321318423-f06f85e504b3?auto=format&fit=crop&w=800'},
            {id:'03', t:'Health Unit', d:'‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§π‡•â‡§∏‡•ç‡§™‡§ø‡§ü‡§≤ ‡§µ‡•à‡§®, 24/7 ‡§ü‡•á‡§≤‡•Ä-‡§Æ‡•á‡§°‡§ø‡§∏‡§ø‡§® ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§î‡§∞ ‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ú‡§® ‡§¨‡•à‡§Ç‡§ï‡•§', img:'https://images.unsplash.com/photo-1538108190935-61bb30dff19a?auto=format&fit=crop&w=800'},
            {id:'04', t:'Food Security', d:'"Digital Ann Bank" ‡§ú‡§π‡§æ‡§Å ‡§ñ‡§∞‡§æ‡§¨ ‡§π‡•ã‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§Ö‡§®‡§æ‡§ú ‡§ï‡•ã ‡§¨‡•ç‡§≤‡•â‡§ï‡§ö‡•á‡§® ‡§∏‡•á ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§', img:'https://images.unsplash.com/photo-1547592166-23ac45744acd?auto=format&fit=crop&w=800'},
            {id:'05', t:'Nari Shakti', d:'‡§Æ‡§π‡§ø‡§≤‡§æ ‡§â‡§¶‡•ç‡§Ø‡§Æ‡§ø‡§§‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Æ‡§æ‡§á‡§ï‡•ç‡§∞‡•ã-‡§≤‡•ã‡§®, ‡§°‡§ø‡§´‡•á‡§Ç‡§∏ ‡§ü‡•ç‡§∞‡•á‡§®‡§ø‡§Ç‡§ó ‡§î‡§∞ ‡§∏‡•á‡§≤‡•ç‡•û-‡§π‡•á‡§≤‡•ç‡§™ ‡§ó‡•ç‡§∞‡•Å‡§™‡•ç‡§∏‡•§', img:'https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?auto=format&fit=crop&w=800'},
            {id:'06', t:'Nature Lab', d:'‡§°‡•ç‡§∞‡•ã‡§® ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§µ‡•É‡§ï‡•ç‡§∑‡§æ‡§∞‡•ã‡§™‡§£, ‡§™‡•ç‡§≤‡§æ‡§∏‡•ç‡§ü‡§ø‡§ï ‡§ï‡§ö‡§∞‡§æ ‡§∞‡§ø‡§∏‡§æ‡§á‡§ï‡•ç‡§≤‡§ø‡§Ç‡§ó ‡§™‡•ç‡§≤‡§æ‡§Ç‡§ü ‡§î‡§∞ ‡§π‡§∞‡§ø‡§§ ‡§ä‡§∞‡•ç‡§ú‡§æ‡•§', img:'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?auto=format&fit=crop&w=800'},
            {id:'07', t:'Legal Cell', d:'‡§Æ‡§æ‡§®‡§µ‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§â‡§≤‡•ç‡§≤‡§Ç‡§ò‡§® ‡§ï‡•á ‡§ñ‡§ø‡§≤‡§æ‡§´ ‡§Æ‡•Å‡§´‡•ç‡§§ ‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§î‡§∞ Justice-on-Cloud‡•§', img:'https://images.unsplash.com/photo-1505664194779-8beaceb93744?auto=format&fit=crop&w=800'},
            {id:'08', t:'Global Team', d:'100+ ‡§¶‡•á‡§∂‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§´‡•à‡§≤‡•á ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∏‡•ç‡§µ‡§Ø‡§Ç‡§∏‡•á‡§µ‡§ï‡•ã‡§Ç ‡§ï‡•Ä ‡§Ü‡§™‡§¶‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§µ‡§æ‡§π‡§ø‡§®‡•Ä‡•§', img:'https://images.unsplash.com/photo-1511632765486-a01980e01a18?auto=format&fit=crop&w=800'},
            {id:'09', t:'Finance Unit', d:'‡§™‡•Ç‡§∞‡•ç‡§£ ‡§™‡§æ‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∞‡§ø‡§Ø‡§≤-‡§ü‡§æ‡§á‡§Æ ‡§¨‡•ç‡§≤‡•â‡§ï‡§ö‡•á‡§® ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§´‡§Ç‡§° ‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó‡•§', img:'https://images.unsplash.com/photo-1450101499163-c8848c66ca85?auto=format&fit=crop&w=800'}
        ];

        let currentCountry = "India";

        // Detect Location & IP
        window.onload = async () => {
            try {
                const res = await fetch('https://ipapi.co/json/');
                const data = await res.json();
                currentCountry = data.country_name;
                document.getElementById('userLocation').innerText = `üìç LIVE: ${data.city}, ${data.country_name}`;
                document.getElementById('ipAddress').innerText = `IP: ${data.ip} (${data.org})`;
            } catch(e) { console.error("Location Detection Failed"); }
            renderGrid();
        }

        function toggleMenu() {
            document.getElementById('sideMenu').classList.toggle('open');
        }

        function renderGrid() {
            const grid = document.getElementById('sector-grid');
            grid.innerHTML = '';
            sectors.forEach(s => {
                grid.innerHTML += `
                    <div class="sector-card p-8">
                        <div class="h-48 rounded-[30px] overflow-hidden mb-6">
                            <img src="${s.img}" class="w-full h-full object-cover">
                        </div>
                        <h3 class="text-2xl font-black italic uppercase mb-3">${s.t}</h3>
                        <p class="text-slate-500 text-sm mb-8 line-clamp-2 font-medium">${s.d}</p>
                        <div class="grid grid-cols-2 gap-3">
                            <button onclick="showDetail('${s.t}', '${s.d}')" class="py-3 rounded-2xl bg-slate-100 text-[10px] font-black uppercase tracking-widest hover:bg-slate-200">Details</button>
                            <button onclick="initiatePayment('${s.t}')" class="py-3 rounded-2xl bg-blue-600 text-white text-[10px] font-black uppercase tracking-widest hover:shadow-xl transition-all">Donate</button>
                        </div>
                    </div>
                `;
            });
        }

        function showDetail(title, desc) {
            document.getElementById('popupContent').innerHTML = `
                <h2 class="text-4xl font-black italic mb-6 text-blue-600 uppercase">${title}</h2>
                <p class="text-slate-600 leading-loose text-lg font-medium">${desc}</p>
                <div class="mt-8 pt-8 border-t border-slate-100 flex items-center gap-4">
                    <div class="w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center text-blue-600">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <p class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">HAI Verified Mission Unit</p>
                </div>
            `;
            document.getElementById('detailPopup').classList.add('active-popup');
        }

        function closePopup() {
            document.getElementById('detailPopup').classList.remove('active-popup');
        }

        async function initiatePayment(unit) {
            const donor = prompt("‡§°‡•ã‡§®‡§∞ ‡§ï‡§æ ‡§®‡§æ‡§Æ (Full Name):");
            const amount = prompt("‡§∞‡§æ‡§∂‡§ø ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç (INR):", "1000");

            if(donor && amount) {
                const status = (currentCountry === "India") ? "APPROVED" : "PENDING";
                
                // --- Supabase Database ‡§Æ‡•á‡§Ç ‡§°‡•á‡§ü‡§æ ‡§∏‡•á‡§µ ‡§ï‡§∞‡§®‡§æ ---
                try {
                    const { error } = await _supabase.from('donations').insert([
                        { 
                            donor_name: donor, 
                            amount: amount, 
                            location: currentCountry, 
                            status: status, 
                            unit_name: unit 
                        }
                    ]);
                    
                    if(error) throw error;

                    if(status === "APPROVED") {
                        alert(`‡§®‡§Æ‡§∏‡•ç‡§§‡•á ${donor}! ‡§≠‡§æ‡§∞‡§§ ‡§∏‡•á ‡§π‡•ã‡§®‡•á ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§Ü‡§™‡§ï‡§æ ‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§∏‡•Ä‡§ß‡•á ‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à‡•§`);
                    } else {
                        alert(`Hello ${donor}! Your international donation is recorded and pending HAI verification.`);
                    }
                    
                    // UPI Redirect
                    window.location.href = `upi://pay?pa=43137160754@sbi&pn=ACIWHO_GLOBAL&am=${amount}&cu=INR&tn=HAI_${unit}`;

                } catch (err) {
                    alert("Database Error: " + err.message);
                }
            }
        }

        function changeLang(val) {
            alert("‡§≠‡§æ‡§∑‡§æ (Language) ‡§ï‡•ã " + val + " ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à...");
        }
    </script>
</body>
</html>

